(function(t){"function"===typeof define&&define.amd?define(["jquery"],t):"object"===typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)})((function(t){var e=function(){function e(){var e=this,n=function(){var n=["br-wrapper"];""!==e.options.theme&&n.push("br-theme-"+e.options.theme),e.$elem.wrap(t("<div />",{class:n.join(" ")}))},a=function(){e.$elem.unwrap()},i=function(n){return t.isNumeric(n)&&(n=Math.floor(n)),t('option[value="'+n+'"]',e.$elem)},r=function(){var n=e.options.initialRating;return n?i(n):t("option:selected",e.$elem)},o=function(){var n=e.$elem.find('option[value="'+e.options.emptyValue+'"]');return!n.length&&e.options.allowEmpty?(n=t("<option />",{value:e.options.emptyValue}),n.prependTo(e.$elem)):n},l=function(t){var n=e.$elem.data("barrating");return"undefined"!==typeof t?n[t]:n},s=function(t,n){null!==n&&"object"===typeof n?e.$elem.data("barrating",n):e.$elem.data("barrating")[t]=n},u=function(){var t=r(),n=o(),a=t.val(),i=t.data("html")?t.data("html"):t.text(),l=null!==e.options.allowEmpty?e.options.allowEmpty:!!n.length,u=n.length?n.val():null,d=n.length?n.text():null;s(null,{userOptions:e.options,ratingValue:a,ratingText:i,originalRatingValue:a,originalRatingText:i,allowEmpty:l,emptyRatingValue:u,emptyRatingText:d,readOnly:e.options.readonly,ratingMade:!1})},d=function(){e.$elem.removeData("barrating")},c=function(){return l("ratingText")},f=function(){return l("ratingValue")},g=function(){var n=t("<div />",{class:"br-widget"});return e.$elem.find("option").each((function(){var a,i,r,o;a=t(this).val(),a!==l("emptyRatingValue")&&(i=t(this).text(),r=t(this).data("html"),r&&(i=r),o=t("<a />",{href:"#","data-rating-value":a,"data-rating-text":i,html:e.options.showValues?i:""}),n.append(o))})),e.options.showSelectedRating&&n.append(t("<div />",{text:"",class:"br-current-rating"})),e.options.reverse&&n.addClass("br-reverse"),e.options.readonly&&n.addClass("br-readonly"),n},p=function(){return l("userOptions").reverse?"nextAll":"prevAll"},m=function(t){i(t).prop("selected",!0),l("userOptions").triggerChange&&e.$elem.change()},h=function(){t("option",e.$elem).prop("selected",(function(){return this.defaultSelected})),l("userOptions").triggerChange&&e.$elem.change()},v=function(t){t=t||c(),t==l("emptyRatingText")&&(t=""),e.options.showSelectedRating&&e.$elem.parent().find(".br-current-rating").text(t)},b=function(t){return Math.round(Math.floor(10*t)/10%1*100)},$=function(){e.$widget.find("a").removeClass((function(t,e){return(e.match(/(^|\s)br-\S+/g)||[]).join(" ")}))},w=function(){var n,a,i=e.$widget.find('a[data-rating-value="'+f()+'"]'),r=l("userOptions").initialRating,o=t.isNumeric(f())?f():0,s=b(r);if($(),i.addClass("br-selected br-current")[p()]().addClass("br-selected"),!l("ratingMade")&&t.isNumeric(r)){if(r<=o||!s)return;n=e.$widget.find("a"),a=i.length?i[l("userOptions").reverse?"prev":"next"]():n[l("userOptions").reverse?"last":"first"](),a.addClass("br-fractional"),a.addClass("br-fractional-"+s)}},y=function(t){return!(!l("allowEmpty")||!l("userOptions").deselectable)&&f()==t.attr("data-rating-value")},x=function(n){n.on("click.barrating",(function(n){var a,i,r=t(this),o=l("userOptions");return n.preventDefault(),a=r.attr("data-rating-value"),i=r.attr("data-rating-text"),y(r)&&(a=l("emptyRatingValue"),i=l("emptyRatingText")),s("ratingValue",a),s("ratingText",i),s("ratingMade",!0),m(a),v(i),w(),o.onSelect.call(e,f(),c(),n),!1}))},C=function(e){e.on("mouseenter.barrating",(function(){var e=t(this);$(),e.addClass("br-active")[p()]().addClass("br-active"),v(e.attr("data-rating-text"))}))},R=function(t){e.$widget.on("mouseleave.barrating blur.barrating",(function(){v(),w()}))},O=function(e){e.on("touchstart.barrating",(function(e){e.preventDefault(),e.stopPropagation(),t(this).click()}))},V=function(t){t.on("click.barrating",(function(t){t.preventDefault()}))},S=function(t){x(t),e.options.hoverState&&(C(t),R(t))},T=function(t){t.off(".barrating")},j=function(t){var n=e.$widget.find("a");l("userOptions").fastClicks&&O(n),t?(T(n),V(n)):S(n)};this.show=function(){l()||(n(),u(),e.$widget=g(),e.$widget.insertAfter(e.$elem),w(),v(),j(e.options.readonly),e.$elem.hide())},this.readonly=function(t){"boolean"===typeof t&&l("readOnly")!=t&&(j(t),s("readOnly",t),e.$widget.toggleClass("br-readonly"))},this.set=function(t){var n=l("userOptions");0!==e.$elem.find('option[value="'+t+'"]').length&&(s("ratingValue",t),s("ratingText",e.$elem.find('option[value="'+t+'"]').text()),s("ratingMade",!0),m(f()),v(c()),w(),n.silent||n.onSelect.call(this,f(),c()))},this.clear=function(){var t=l("userOptions");s("ratingValue",l("originalRatingValue")),s("ratingText",l("originalRatingText")),s("ratingMade",!1),h(),v(c()),w(),t.onClear.call(this,f(),c())},this.destroy=function(){var t=f(),n=c(),i=l("userOptions");T(e.$widget.find("a")),e.$widget.remove(),d(),a(),e.$elem.show(),i.onDestroy.call(this,t,n)}}return e.prototype.init=function(e,n){return this.$elem=t(n),this.options=t.extend({},t.fn.barrating.defaults,e),this.options},e}();t.fn.barrating=function(n,a){return this.each((function(){var i=new e;if(t(this).is("select")||t.error("Sorry, this plugin only works with select fields."),i.hasOwnProperty(n)){if(i.init(a,this),"show"===n)return i.show(a);if(i.$elem.data("barrating"))return i.$widget=t(this).next(".br-widget"),i[n](a)}else{if("object"===typeof n||!n)return a=n,i.init(a,this),i.show();t.error("Method "+n+" does not exist on jQuery.barrating")}}))},t.fn.barrating.defaults={theme:"",initialRating:null,allowEmpty:null,emptyValue:"",showValues:!1,showSelectedRating:!0,deselectable:!0,reverse:!1,readonly:!1,fastClicks:!0,hoverState:!0,silent:!1,triggerChange:!0,onSelect:function(t,e,n){},onClear:function(t,e){},onDestroy:function(t,e){}},t.fn.barrating.BarRating=e})),$((function(){function t(){$("#example-1to10").barrating("show",{theme:"bars-1to10"});var t=$("#example-fontawesome-o").data("current-rating");$(".stars-example-fontawesome-o .current-rating").find("span").html(t),$(".stars-example-fontawesome-o .clear-rating").on("click",(function(t){t.preventDefault(),$("#example-fontawesome-o").barrating("clear")})),$("#example-fontawesome-o").barrating({theme:"fontawesome-stars-o",showSelectedRating:!1,initialRating:t,onSelect:function(t,e){t?($(".stars-example-fontawesome-o .current-rating").addClass("hidden"),$(".stars-example-fontawesome-o .your-rating").removeClass("hidden").find("span").html(t)):$("#example-fontawesome-o").barrating("clear")},onClear:function(t,e){$(".stars-example-fontawesome-o").find(".current-rating").removeClass("hidden").end().find(".your-rating").addClass("hidden")}})}function e(){$("select").barrating("destroy")}$(".rating-enable").click((function(e){e.preventDefault(),t(),$(this).addClass("deactivated"),$(".rating-disable").removeClass("deactivated")})),$(".rating-disable").click((function(t){t.preventDefault(),e(),$(this).addClass("deactivated"),$(".rating-enable").removeClass("deactivated")})),t()}));